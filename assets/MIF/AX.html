<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alike X | Phonetic Radar | EYC</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root { 
            --neon-blue: #00f2ff; 
            --neon-purple: #bc13fe; 
            --glass: rgba(10, 10, 15, 0.8); 
        }

        body { 
            font-family: 'Rajdhani', sans-serif; 
            background: transparent; 
            color: white; 
            margin: 0; 
            padding: 15px; 
            direction: ltr; 
        }

        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        body::-webkit-scrollbar { width: 4px; }
        body::-webkit-scrollbar-thumb { background: var(--neon-purple); border-radius: 10px; }

        .header-x { 
            text-align: center; 
            margin-bottom: 25px; 
            border-bottom: 2px solid var(--neon-purple); 
            padding-bottom: 10px; 
            box-shadow: 0 10px 10px -10px var(--neon-purple);
        }

        .question-card { 
            background: var(--glass); 
            border: 1px solid rgba(188, 19, 254, 0.2); 
            border-radius: 15px; 
            padding: 20px; 
            margin-bottom: 25px; 
            backdrop-filter: blur(10px);
            transition: 0.3s;
        }

        .question-card:hover { border-color: var(--neon-blue); }

        .audio-btn { 
            background: linear-gradient(45deg, var(--neon-purple), #7a07a5); 
            color: white; 
            border: none; 
            padding: 10px 18px; 
            border-radius: 8px; 
            cursor: pointer; 
            font-family: 'Orbitron'; 
            font-size: 11px; 
            margin-bottom: 15px; 
            display: flex;
            align-items: center;
            gap: 8px;
            transition: 0.3s;
        }

        .audio-btn:hover { transform: scale(1.05); box-shadow: 0 0 15px var(--neon-purple); }

        .sentence-text { font-size: 1.3rem; margin-bottom: 20px; color: #fff; line-height: 1.5; }
        
        .missing-word { 
            color: var(--neon-blue); 
            font-weight: bold; 
            border-bottom: 2px dashed var(--neon-blue);
            padding: 0 10px;
            transition: 0.3s;
        }

        .options-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }

        @media (max-width: 500px) {
            .options-grid { grid-template-columns: 1fr; }
            .sentence-text { font-size: 1.1rem; }
        }

        .opt-btn { 
            background: rgba(255,255,255,0.05); 
            border: 1px solid rgba(255,255,255,0.1); 
            color: white; 
            padding: 12px; 
            border-radius: 10px; 
            cursor: pointer; 
            font-family: 'Rajdhani'; 
            font-size: 1.1rem; 
            transition: 0.3s; 
        }

        .opt-btn:hover { border-color: var(--neon-blue); background: rgba(0, 242, 255, 0.15); }
        .opt-btn.active { 
            background: var(--neon-blue); 
            color: black; 
            font-weight: bold; 
            box-shadow: 0 0 20px var(--neon-blue);
            border-color: white;
        }

        .error-input { border: 2px solid #ff4444 !important; animation: shake 0.3s ease; }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
    </style>
</head>
<body>
    <div class="header-x">
        <h1 id="x-title" style="font-family: 'Orbitron'; letter-spacing: 3px; font-size: 1.2rem; color: var(--neon-blue);">ALIKE-X RADAR</h1>
    </div>
    <div id="quiz-screen"></div>

<script>
    const alikeXData = {
        "1": [{ s: "The new software serves as a perfect _______ to our existing system.", options: ["Compliment", "Complement", "Compliance"], correct: "Complement" },{ s: "She has strong moral _______ that guide her daily life.", options: ["Principals", "Principles", "Princes"], correct: "Principles" },{ s: "The plane remained _______ on the runway for over an hour.", options: ["Stationary", "Stationery", "Stationing"], correct: "Stationary" },{ s: "The legal _______ advised the CEO not to sign the contract.", options: ["Council", "Counsel", "Console"], correct: "Counsel" },{ s: "We walked slowly down the long church _______ during the wedding.", options: ["Aisle", "Isle", "I'll"], correct: "Aisle" }],
        "2": [{ s: "Please be _______ about the confidential information I shared.", options: ["Discrete", "Discreet", "Decreet"], correct: "Discreet" },{ s: "The patient had an _______ reaction to the new medication.", options: ["Adverse", "Averse", "Advice"], correct: "Adverse" },{ s: "The detective tried to _______ information from the witness.", options: ["Elicit", "Illicit", "Elite"], correct: "Elicit" },{ s: "She has a natural _______ for interior design and creative arts.", options: ["Flare", "Flair", "Floor"], correct: "Flair" },{ s: "The curator warned against the tendency to _______ artifacts.", options: ["Horde", "Hoard", "Hard"], correct: "Hoard" }],
        "3": [{ s: "The constant noise from the street can _______ your focus.", options: ["Affect", "Effect", "Aspect"], correct: "Affect" },{ s: "The desert heat was so intense that we felt _______.", options: ["Faint", "Feint", "Font"], correct: "Faint" },{ s: "They decided to _______ the rights to the property.", options: ["Seed", "Cede", "Said"], correct: "Cede" },{ s: "The knight fought bravely with a _______ made of steel.", options: ["Flail", "Flare", "Flaw"], correct: "Flail" },{ s: "His _______ of the situation was far more accurate.", options: ["Sight", "Site", "Cite"], correct: "Sight" }],
        "4": [{ s: "The chef used a heavy stone _______ to crush the spices.", options: ["Pestle", "Pistol", "Pastel"], correct: "Pestle" },{ s: "The dark clouds seemed to _______ a terrible storm.", options: ["Bode", "Board", "Bowed"], correct: "Bode" },{ s: "The team needs to _______ every detail of the plan.", options: ["Canvas", "Canvass", "Convey"], correct: "Canvass" },{ s: "After the workout, his muscles felt extremely _______.", options: ["Taut", "Taught", "Tort"], correct: "Taut" },{ s: "The author wrote a long _______ to the book.", options: ["Forward", "Foreword", "Foreward"], correct: "Foreword" }],
        "5": [{ s: "The manager decided to _______ the rules for flexibility.", options: ["Waive", "Wave", "Wove"], correct: "Waive" },{ s: "The ancient scrolls were written on high-quality _______.", options: ["Vellum", "Valuem", "Volume"], correct: "Vellum" },{ s: "He managed to _______ his opponents with clever maneuvers.", options: ["Allude", "Elude", "Elide"], correct: "Elude" },{ s: "The kingâ€™s _______ lasted for more than forty years.", options: ["Rain", "Reign", "Rein"], correct: "Reign" },{ s: "The artist chose a neutral _______ for the background.", options: ["Palate", "Palette", "Pellet"], correct: "Palette" }],
        "6": [{ s: "The tailor took a measurement of the _______.", options: ["Waist", "Waste", "West"], correct: "Waist" },{ s: "The ship had to _______ its sails to catch the breeze.", options: ["Furl", "Fall", "Foal"], correct: "Furl" },{ s: "The mountain _______ was covered in deep snow.", options: ["Peek", "Peak", "Pique"], correct: "Peak" },{ s: "He decided to _______ his pride and apologize.", options: ["Swallow", "Shallow", "Swallow-tail"], correct: "Swallow" },{ s: "The council issued a new _______ to regulate street acts.", options: ["Ordnance", "Ordinance", "Audience"], correct: "Ordinance" }],
        "7": [{ s: "The wind began to _______ through the narrow trees.", options: ["Blew", "Blue", "Blow"], correct: "Blew" },{ s: "She bought a new _______ of shoes for the party.", options: ["Pare", "Pair", "Pear"], correct: "Pair" },{ s: "The cat licked its _______ after eating the fish.", options: ["Pause", "Paws", "Pour"], correct: "Paws" },{ s: "The _______ of the flower was sweet and strong.", options: ["Scent", "Sent", "Cent"], correct: "Scent" },{ s: "He needs to _______ the bread dough for ten minutes.", options: ["Need", "Knead", "Nude"], correct: "Knead" }],
        "8": [{ s: "The rough _______ of the jacket irritated his skin.", options: ["Course", "Coarse", "Cause"], correct: "Coarse" },{ s: "They had to _______ the old building to build a park.", options: ["Raze", "Raise", "Rise"], correct: "Raze" },{ s: "The thief tried to _______ the diamond from the vault.", options: ["Steel", "Steal", "Still"], correct: "Steal" },{ s: "It is a _______ of luck that we met here.", options: ["Stroke", "Struck", "Strake"], correct: "Stroke" },{ s: "The _______ was too heavy for the small horse.", options: ["Load", "Lode", "Loud"], correct: "Load" }],
        "9": [{ s: "The sun's _______ were reflected off the water.", options: ["Raise", "Rays", "Raze"], correct: "Rays" },{ s: "He felt a sharp _______ in his left shoulder.", options: ["Pane", "Pain", "Pine"], correct: "Pain" },{ s: "The _______ of the company resigned yesterday.", options: ["Principal", "Principle", "Princes"], correct: "Principal" },{ s: "I hope the _______ stays sunny for our trip.", options: ["Whether", "Weather", "Wether"], correct: "Weather" },{ s: "She wrote a lovely _______ to her grandmother.", options: ["Note", "Knot", "Not"], correct: "Note" }],
        "10": [{ s: "The boat was tied to the _______ in the harbor.", options: ["Quay", "Key", "Kee"], correct: "Quay" },{ s: "He had to _______ through the deep mud.", options: ["Wade", "Weighed", "Wide"], correct: "Wade" },{ s: "The horse has a beautiful long _______.", options: ["Main", "Mane", "Mean"], correct: "Mane" },{ s: "We need to _______ the target before we fire.", options: ["Sight", "Cite", "Site"], correct: "Sight" },{ s: "The _______ was full of delicious red apples.", options: ["Bin", "Been", "Ben"], correct: "Bin" }]
    };

    const urlParams = new URLSearchParams(window.location.search);
    const taskNum = urlParams.get('task') || "1"; // ØªØ£ÙƒØ¯Ù†Ø§ Ø¥Ù† Ø§Ù„Ø§Ø³Ù… task ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ø£Ø±ÙŠÙ†Ø§
    let answers = {};

    function loadAlikeX() {
        const questions = alikeXData[taskNum] || alikeXData["1"];
        const screen = document.getElementById('quiz-screen');
        screen.innerHTML = questions.map((q, i) => `
            <div class="question-card" id="card-${i}">
                <button class="audio-btn" onclick="playAudio(${i})">
                    <span>ðŸ”Š</span> PLAY AUDIO CLUE
                </button>
                <div class="sentence-text">
                    ${q.s.replace('_______', `<span class="missing-word" id="display-${i}">_______</span>`)}
                </div>
                <div class="options-grid">
                    ${q.options.map(opt => `<button class="opt-btn" onclick="selectOpt(${i}, '${opt}', this)">${opt}</button>`).join('')}
                </div>
            </div>
        `).join('');
        document.getElementById('x-title').innerText = `ALIKE-X: RADAR MISSION ${taskNum.padStart(2, '0')}`;
    }

    function selectOpt(qIdx, val, btn) {
        const container = btn.parentElement;
        container.querySelectorAll('.opt-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        
        const display = document.getElementById(`display-${qIdx}`);
        display.innerText = val.toUpperCase();
        display.style.color = "var(--neon-purple)";
        
        document.getElementById(`card-${qIdx}`).classList.remove('error-input');
        answers[qIdx] = val;
    }

    function playAudio(idx) {
        const task = parseInt(taskNum);
        const questionIndex = parseInt(idx);
        const audioFileNum = ((task - 1) * 5) + (questionIndex + 1);
        const audio = new Audio(`assets/alikeaudio/AX${audioFileNum}.wav`);
        audio.play().catch(e => console.error("Audio Signal Lost:", audioFileNum));
    }

    // Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ø²Ø±Ø§Ø± Submit Ù…Ù† Ø§Ù„Ø£Ø±ÙŠÙ†Ø§
    window.addEventListener('message', function(event) {
        if (event.data.type === 'REQUEST_MISSION_DATA') {
            collectAndSend();
        }
    });

    function collectAndSend() {
        let finalAnswers = [];
        let hasMissing = false;

        for(let i=0; i<5; i++) {
            if (!answers[i]) {
                document.getElementById(`card-${i}`).classList.add('error-input');
                hasMissing = true;
            } else {
                finalAnswers.push(answers[i]);
            }
        }

        if (hasMissing) {
            alert("âš ï¸ AGENT! Some Radar Signals are missing. Complete all fields!");
            window.parent.postMessage({ type: 'MISSION_INCOMPLETE' }, '*');
            return;
        }

        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø£Ø±ÙŠÙ†Ø§
        window.parent.postMessage({ 
            type: 'MISSION_ANSWERS', 
            answers: finalAnswers.join(', '), 
            missionNum: taskNum 
        }, '*');
    }

    window.onload = loadAlikeX;
</script>
</body>
</html>
