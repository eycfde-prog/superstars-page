<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mission Control - MC</title>
    <link rel="stylesheet" href="mcstyle.css">
</head>
<body>

    <div id="space-container"></div>
    <div class="grid-lines"></div>

    <div id="loginModal" class="modal">
        <div class="login-box">
            <h2 style="text-align:center">Mission Control</h2>
            <p style="text-align:center; font-size: 0.8em; color: #888;">سجل دخولك لبدء المهام</p>
            <input type="email" id="userEmail" placeholder="البريد الإلكتروني">
            <input type="password" id="userCode" placeholder="كود الدخول">
            <button onclick="login()" style="width:100%; padding:10px; background:#00ff41; border:none; cursor:pointer">دخول</button>
            <p style="margin-top:15px; font-size:0.9em">
                ليس لديك بروفايل؟ <a href="NP.html" style="color:#fff">أنشئ بروفايل من هنا</a>
            </p>
        </div>
    </div>

    <div id="mainContent" style="display:none">
        <header class="header-stats">
            <div class="stat-item">
                <span class="stat-value" id="studentName">جاري التحميل...</span>
                <small>المقاتل</small>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="studentPoints">0</span>
                <small>النقاط</small>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="studentRank">#--</span>
                <small>الترتيب</small>
            </div>
        </header>

        <main class="mission-hub">
            <h3 class="section-title">المجموعة S (Regular)</h3>
            <div class="grid-container" id="regularGroup">
                <div class="mission-card" onclick="openTasks('S1')">Activity S1</div>
                <div class="mission-card" onclick="openTasks('S2')">Activity S2</div>
                <div class="mission-card" onclick="openTasks('S3')">Activity S3</div>
                <div class="mission-card" onclick="openTasks('S4')">Activity S4</div>
                <div class="mission-card" onclick="openTasks('S5')">Activity S5</div>
                <div class="mission-card" onclick="openTasks('S6')">Activity S6</div>
            </div>

            <hr style="margin:30px 0; border:0; border-top:1px solid #333">

            <h3 class="section-title" style="border-color:#ffd700">المجموعة X (Royal)</h3>
            <div class="grid-container" id="royalGroup">
                <div class="mission-card royal-card" onclick="openTasks('X1')">Royal X1</div>
                <div class="mission-card royal-card" onclick="openTasks('X2')">Royal X2</div>
                <div class="mission-card royal-card" onclick="openTasks('X3')">Royal X3</div>
                <div class="mission-card royal-card" onclick="openTasks('X4')">Royal X4</div>
                <div class="mission-card royal-card" onclick="openTasks('X5')">Royal X5</div>
                <div class="mission-card royal-card" onclick="openTasks('X6')">Royal X6</div>
                <div class="mission-card royal-card" onclick="openTasks('X7')">Royal X7</div>
                <div class="mission-card royal-card" onclick="openTasks('X8')">Royal X8</div>
                <div class="mission-card royal-card" onclick="openTasks('X9')">Royal X9</div>
                <div class="mission-card royal-card" onclick="openTasks('X10')">Royal X10</div>
            </div>
        </main>
    </div>

    <div class="nav-buttons">
        <button class="btn-circle" title="Home" onclick="goHome()">H</button>
        <button class="btn-circle" title="Logout" style="background:#ff4141" onclick="logout()">L</button>
    </div>

    <script>
        // دالة الدخول (ليتم ربطها بـ Google Apps Script لاحقاً)
        function login() {
            const email = document.getElementById('userEmail').value;
            const code = document.getElementById('userCode').value;
            
            if(email && code) {
                // هنا نضع كود الـ Apps Script للتأكد
                document.getElementById('loginModal').style.display = 'none';
                document.getElementById('mainContent').style.display = 'block';
                // تجريبي لإظهار الاسم
                document.getElementById('studentName').innerText = email.split('@')[0];
            }
        }

        function logout() {
            location.reload();
        }

        function goHome() {
            window.location.href = 'home.html'; 
        }

        function openTasks(activityID) {
            alert('فتح مهام النشاط: ' + activityID + '\nهنا تظهر الـ 10 مهام الخاصة بالنشاط');
            // هنا نربط مع Apps Script لجلب المهام الـ 10 الخاصة بهذا الكود
        }
    </script>
</body>
</html>
