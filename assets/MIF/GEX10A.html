<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activity Content | Golden Ear X</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Montserrat:wght@300;400;600&family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --gold: #fcc200; --orange: #e67e22; --glass: rgba(255, 255, 255, 0.05); }
        
        body { background: transparent; color: white; margin: 0; padding: 15px; font-family: 'Montserrat', sans-serif; overflow-x: hidden; }

        .mission-card {
            background: rgba(0, 0, 0, 0.4); border-radius: 25px; padding: 25px;
            border: 1px solid rgba(255,255,255,0.1); text-align: center;
        }

        /* Giant Audio Button */
        .giant-play-btn {
            width: 100px; height: 100px; border-radius: 50%; margin: 20px auto;
            background: linear-gradient(135deg, var(--gold), var(--orange));
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: 0.4s; position: relative;
            box-shadow: 0 0 20px rgba(252, 194, 0, 0.2);
        }
        .giant-play-btn i { color: black; font-size: 35px; }
        
        .pulse { 
            position: absolute; inset: -5px; border-radius: 50%; 
            border: 2px solid var(--gold); opacity: 0; 
        }
        .playing .pulse { animation: pulse-anim 1.5s infinite; }
        
        @keyframes pulse-anim {
            0% { transform: scale(1); opacity: 0.5; }
            100% { transform: scale(1.4); opacity: 0; }
        }

        /* Scratchpad */
        .notes-box { margin-top: 25px; text-align: left; }
        .notes-box label { font-size: 10px; color: var(--gold); font-family: 'Orbitron'; letter-spacing: 1px; }
        textarea { 
            width: 100%; height: 80px; background: rgba(0,0,0,0.5); 
            border: 1px dashed #444; border-radius: 15px; padding: 12px; 
            color: white; margin-top: 8px; resize: none; font-size: 13px;
        }

        /* Lock Mechanism Button */
        .btn-form {
            width: 100%; padding: 18px; border-radius: 15px; font-family: 'Orbitron'; font-weight: 900;
            margin-top: 25px; border: none; cursor: not-allowed; transition: 0.5s;
            background: #222; color: #555; text-decoration: none; display: block;
            text-align: center; font-size: 14px;
        }
        .btn-form.active {
            background: var(--gold); color: black; cursor: pointer;
            box-shadow: 0 8px 25px rgba(252, 194, 0, 0.3);
        }

        #statusTxt { font-family: 'Cairo'; font-size: 12px; margin-top: 15px; font-weight: bold; }
        .lock-hint { font-family: 'Cairo'; font-size: 10px; color: #d35400; margin-top: 10px; font-style: italic; }
    </style>
</head>
<body>

    <div class="mission-card">
        <h3 style="font-family: 'Orbitron'; font-size: 11px; color: var(--gold); letter-spacing: 2px; margin-bottom: 10px;">MISSION: SECURE LISTENING</h3>
        
        <div class="giant-play-btn" id="playBtn" onclick="toggleAudio()">
            <div class="pulse"></div>
            <i class="fas fa-play" id="playIcon"></i>
            <i class="fas fa-pause" id="pauseIcon" style="display:none;"></i>
        </div>
        
        <audio id="audioPlayer" src=""></audio>

        <p id="statusTxt" style="color: #666;">Ø§Ø¶ØºØ· Ù„Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ù…Ù‡Ù…Ø©</p>

        <div class="notes-box">
            <label>ğŸ“ SCRATCHPAD (FOR NOTES):</label>
            <textarea placeholder="Write keywords here as you listen..."></textarea>
        </div>

        <a id="formBtn" href="#" class="btn-form" target="_blank">
            FORM LOCKED <i class="fas fa-lock"></i>
        </a>
        
        <p id="lockMsg" class="lock-hint">
            * Ø³ÙŠÙØªØ­ Ø±Ø§Ø¨Ø· Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ù…Ù‚Ø·Ø¹ Ø§Ù„ØµÙˆØªÙŠ
        </p>
    </div>

<script>
    const audio = document.getElementById('audioPlayer');
    const playBtn = document.getElementById('playBtn');
    const statusTxt = document.getElementById('statusTxt');
    const formBtn = document.getElementById('formBtn');
    
    // Ø¬Ù„Ø¨ Ø±Ù‚Ù… Ø§Ù„Ù…Ù‡Ù…Ø©
    const params = new URLSearchParams(window.location.search);
    const mNum = params.get('m') || '1';

    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù‡Ø§Ù…
    const missionData = {
        "1": {
            audio: `assets/audio/GEX${mNum}.wav`,
            form: "https://docs.google.com/forms/d/e/YOUR_FORM_ID_HERE/viewform"
        }
    };

    window.onload = () => {
        const data = missionData[mNum] || missionData["1"];
        audio.src = data.audio;
        formBtn.href = data.form;
    };

    function toggleAudio() {
        if (audio.paused) {
            audio.play();
            playBtn.classList.add('playing');
            document.getElementById('playIcon').style.display = 'none';
            document.getElementById('pauseIcon').style.display = 'block';
            statusTxt.innerText = "Listening... ğŸ§";
            statusTxt.style.color = "var(--gold)";
        } else {
            audio.pause();
            playBtn.classList.remove('playing');
            document.getElementById('playIcon').style.display = 'block';
            document.getElementById('pauseIcon').style.display = 'none';
            statusTxt.innerText = "Paused";
        }
    }

    audio.onended = () => {
        playBtn.classList.remove('playing');
        playBtn.style.opacity = "0.3";
        playBtn.onclick = null;
        statusTxt.innerText = "AUDIO COMPLETED âœ…";
        statusTxt.style.color = "#4CAF50";
        
        formBtn.classList.add('active');
        formBtn.innerHTML = 'OPEN ANSWER FORM <i class="fas fa-lock-open"></i>';
        document.getElementById('lockMsg').style.display = 'none';
    };

    // Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Terminal
    window.checkAnswers = function() {
        return {
            status: audio.ended ? "COMPLETED" : "IN_PROGRESS",
            points: audio.ended ? 1 : 0
        };
    };
</script>
</body>
</html>
