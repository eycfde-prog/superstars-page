<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seeds X | Creative Flow | EYC</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root { 
            --neon-purple: #bc13fe; 
            --neon-blue: #00f2ff; 
            --glass: rgba(15, 15, 25, 0.85); 
        }
        
        body { 
            font-family: 'Rajdhani', sans-serif; 
            background: transparent; 
            color: white; 
            margin: 0; 
            padding: 15px; 
            direction: ltr;
            overflow-x: hidden;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: var(--neon-purple); border-radius: 10px; }

        .mission-header {
            text-align: center; 
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(188, 19, 254, 0.3); 
            padding-bottom: 10px;
        }

        .sentences-grid {
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 12px; 
            margin-bottom: 25px;
        }

        .sentence-card {
            background: var(--glass); 
            border: 1px solid rgba(255,255,255,0.05);
            padding: 12px 15px; 
            border-radius: 12px; 
            font-size: 0.95rem;
            border-left: 4px solid var(--neon-blue); 
            position: relative;
            transition: 0.3s;
            line-height: 1.4;
        }

        .sentence-card:hover {
            transform: scale(1.02);
            border-color: var(--neon-blue);
            box-shadow: 0 5px 15px rgba(0, 242, 255, 0.1);
        }

        .sentence-card:nth-child(6) {
            border-left-color: #ff003c;
            background: rgba(255, 0, 60, 0.05);
        }

        .sentence-card span { 
            font-family: 'Orbitron'; 
            color: var(--neon-purple); 
            font-size: 10px; 
            display: block; 
            margin-bottom: 5px;
            letter-spacing: 2px;
        }

        .writing-zone {
            background: var(--glass); 
            border-radius: 15px; 
            padding: 20px;
            border: 1px solid rgba(188, 19, 254, 0.2);
            box-shadow: 0 10px 40px rgba(0,0,0,0.4);
        }

        textarea {
            width: 100%; 
            height: 320px; 
            background: transparent; 
            border: none;
            color: #efefef; 
            font-family: 'Rajdhani'; 
            font-size: 1.2rem;
            line-height: 1.7; 
            outline: none; 
            resize: none; 
            box-sizing: border-box;
        }

        .footer-info {
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            margin-top: 15px; 
            font-family: 'Orbitron'; 
            font-size: 11px; 
            color: var(--neon-blue);
            border-top: 1px solid rgba(255,255,255,0.05);
            padding-top: 10px;
        }

        .glow-text { 
            text-shadow: 0 0 10px var(--neon-blue); 
            font-size: 14px;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="mission-header">
        <h1 id="x-title" style="font-family: 'Orbitron'; letter-spacing: 5px; margin:0; font-size: 1.2rem; color: var(--neon-purple);">SEEDS-X MISSION</h1>
    </div>

    <div id="sentences-area" class="sentences-grid"></div>

    <div class="writing-zone">
        <textarea id="storyInput" placeholder="Masterfully weave the 6 phrases into your 150-word story..." oninput="updateCount()"></textarea>
        <div class="footer-info">
            <span>OBJECTIVE: 150+ WORDS</span>
            <span>LIVE WORD COUNT: <span id="wordCount" class="glow-text">0</span></span>
        </div>
    </div>

<script>
    const seedsXData = {
        "1": ["The stars were closer than ever.", "Oxygen levels were dropping fast.", "The alien planet looked like crystal.", "We landed the ship on a giant crater.", "Communication with Earth was lost.", "Someone was frying onions in the cockpit."],
        "2": ["The pyramid hid a secret chamber.", "Ancient symbols covered every wall.", "The pharaoh's crown began to glow.", "A trap door opened under my feet.", "We discovered a map made of gold.", "My smartphone started an automatic software update."],
        "3": ["The rainforest was dark and loud.", "A rare jaguar watched from the trees.", "The river was rising after the storm.", "We followed the path to the hidden cave.", "Nature has its own mysterious language.", "A clown on a unicycle appeared in the bushes."],
        "4": ["The submarine reached the ocean floor.", "Bioluminescent fish lit up the dark.", "Pressure was increasing on the glass.", "We found a shipwreck from 1912.", "Giant squids moved silently nearby.", "The captain insisted on wearing a silk tuxedo."],
        "5": ["Robots were running the entire city.", "Flying cars filled the neon sky.", "AI controlled every human decision.", "Computers were faster than human brains.", "Reality was just a digital simulation.", "A lonely cow was grazing on the motherboard."],
        "6": ["The sun was burning the endless sand.", "Water was more valuable than gold.", "The caravan moved slowly through heat.", "Wind carved shapes into the dunes.", "We found an ancient dry well.", "I decided to build a massive snowman."],
        "7": ["The emergency room was very busy.", "Doctors worked through the long night.", "The patient made a full recovery.", "Medicine saved many lives today.", "The lab results were finally ready.", "A talking dragon was waiting in the pharmacy."],
        "8": ["The detective found a silver hair.", "The suspect vanished into the night.", "Police sirens echoed in the street.", "Every clue led to the same house.", "The truth was hidden in the files.", "He scored a goal from the halfway line."],
        "9": ["The teacher opened the old textbook.", "Students were focused on the exam.", "The library was silent and peaceful.", "Knowledge is the key to the future.", "The bell rang for the final break.", "The principal started eating popcorn in 3D glasses."],
        "10": ["The bride looked stunning in white.", "Music filled the decorated hall.", "Family members gathered from afar.", "The cake was five layers high.", "They promised to stay together forever.", "The soldiers began the midnight invasion."]
    };

    const urlParams = new URLSearchParams(window.location.search);
    const taskNum = urlParams.get('task') || "1";

    function loadSeedsX() {
        const sentences = seedsXData[taskNum] || seedsXData["1"];
        const area = document.getElementById('sentences-area');
        area.innerHTML = sentences.map((s, i) => `
            <div class="sentence-card">
                <span>PHRASE_0${i+1}</span>
                ${s}
            </div>
        `).join('');
        document.getElementById('x-title').innerText = `SEEDS-X: MISSION ${taskNum.padStart(2, '0')}`;
    }

    function updateCount() {
        const text = document.getElementById('storyInput').value.trim();
        const count = text ? text.split(/\s+/).length : 0;
        const display = document.getElementById('wordCount');
        display.innerText = count;
        
        if(count >= 150) {
            display.style.color = "#00ff00";
            display.style.textShadow = "0 0 10px #00ff00";
        } else {
            display.style.color = "var(--neon-blue)";
            display.style.textShadow = "0 0 10px var(--neon-blue)";
        }
    }

    // Listener for parent page request
    window.addEventListener('message', function(event) {
        if (event.data.type === 'REQUEST_SSX_DATA') {
            const story = document.getElementById('storyInput').value.trim();
            
            window.parent.postMessage({ 
                type: 'SUBMIT_X', 
                activityCode: 'SSX',
                answers: [story], 
                missionNum: taskNum 
            }, '*');
        }
    });

    window.onload = loadSeedsX;
</script>
</body>
</html>